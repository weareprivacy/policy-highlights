(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Hglc:function(t,e,i){},tjUo:function(t,e,i){"use strict";i.r(e);i("Hglc");function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){o(t,e,i[e])})}return t}({},{highlights:[],container:document,keywordBackgroundColor:"#ffff00",keywordTextColor:"#000000",actionBackgroundColor:"#eff7ff",actionTextColor:"#0366d6"},e),this.highlightMap={},this.keywordDetails=null,this.parseHighlights()}var e,i,l;return e=t,(i=[{key:"parseHighlights",value:function(){var t=this,e=function(e,i){e.text in t.highlightMap?-1===t.highlightMap[e.text].indexOf(i)&&t.highlightMap[e.text].push(i):(t.highlightMap[e.text]=[i],t.highlight(e))};this.config.highlights.forEach(function(i,o){(i.keywords||"").split(",").forEach(function(t){e({text:t},o)}),(i.actions||"").split(",").forEach(function(i){e({text:i,backgroundColor:t.config.actionBackgroundColor,textColor:t.config.actionTextColor},o)})})}},{key:"highlight",value:function(t){var e=t.text,i=void 0===e?"":e,o=t.backgroundColor,n=void 0===o?this.config.keywordBackgroundColor:o,l=t.textColor,a=void 0===l?this.config.keywordTextColor:l;if(0!==i.length){var r,h=new RegExp("(^|\\W)"+i.replace(/[\\^$*+.?[\]{}()|]/,"\\$&")+"($|\\W)","im"),s=[];this.config.container.normalize();for(var g=this.config.container.firstChild;null!=g;){if(g.nodeType==Node.TEXT_NODE){r="string"==typeof g.textContent?g.textContent:g.innerText;var c=h.exec(r);if(null!=c){var u=document.createDocumentFragment();c.index>0&&u.appendChild(document.createTextNode(c.input.substr(0,c.index)));var d=this.highlightStyle({style:["position:relative;"],backgroundColor:n,textColor:a}),f=document.createElement("span");f.setAttribute("style",d),f.appendChild(document.createTextNode(c[0])),u.appendChild(f),f.addEventListener("mouseover",this.showDetails.bind(this)),f.addEventListener("mouseout",this.hideDetails.bind(this)),c.index+c[0].length<c.input.length&&u.appendChild(document.createTextNode(c.input.substr(c.index+c[0].length))),g.parentNode.replaceChild(u,g),g=f}}else if(g.nodeType==Node.ELEMENT_NODE&&null!=g.firstChild){s.push(g),g=g.firstChild;continue}for(;null!=g&&null==g.nextSibling;)g=s.pop();null!=g&&(g=g.nextSibling)}}}},{key:"highlightStyle",value:function(t){var e=t.style,i=void 0===e?[]:e,o=t.backgroundColor,n=void 0===o?this.config.keywordBackgroundColor:o,l=t.textColor,a=void 0===l?this.config.keywordTextColor:l;return n&&n.length>0&&i.push("background-color: "+n+";"),a&&a.length>0&&i.push("color: "+a+";"),i.join("")}},{key:"showDetails",value:function(t){var e=t.target.innerHTML.replace(/[\\^$*+.?[\]{}()|]/,"").trim().toLowerCase();if(e in this.highlightMap){this.hideDetails();var i=document.createElement("div");i.setAttribute("style","top: 100%;left:0;"),i.setAttribute("class","policyHighlight__popup"),i.innerHTML=this.getDetailsHTML(e),t.target.appendChild(i),this.keywordDetails=i}}},{key:"hideDetails",value:function(){this.keywordDetails&&this.keywordDetails.parentNode.removeChild(this.keywordDetails),this.keywordDetails=null}},{key:"getDetailsHTML",value:function(t){var e=this,i=this.highlightMap[t].map(function(i){return e.getHighlightHTML(t,e.config.highlights[i])}),o=this.getHTMLTag({value:t,className:"policyHighlight__text"})+this.getHTMLTag({value:i.join(""),className:"policyHighlight__highlights"});return this.getHTMLTag({value:o,className:"policyHighlight__details"})}},{key:"getHighlightHTML",value:function(t,e){var i=this,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.split(",").map(function(t){return i.getHTMLTag({value:t,style:e,tag:"span"})}).join("")},n=this.highlightStyle({}),l=this.highlightStyle({backgroundColor:this.config.actionBackgroundColor,textColor:this.config.actionTextColor}),a=o(e.keywords,n),r=o(e.actions,l),h=this.getHTMLTag({value:e.name,className:"policyHighlight__name"})+this.getHTMLTag({value:e.description,className:"policyHighlight__description"})+this.getHTMLTag({value:a,className:"policyHighlight__keywords"})+this.getHTMLTag({value:r,className:"policyHighlight__actions"});return this.getHTMLTag({value:h,className:"policyHighlight__highlight"})}},{key:"getHTMLTag",value:function(t){var e=t.value,i=void 0===e?"":e,o=t.className,n=void 0===o?"":o,l=t.style,a=void 0===l?"":l,r=t.tag,h=void 0===r?"div":r;return i&&i.length>0&&"<"+h+' class="'+n+'" style="'+a+'">'+i+"</"+h+">"}}])&&n(e.prototype,i),l&&n(e,l),t}();e.default=l}}]);