(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Hglc:function(t,e,i){},tjUo:function(t,e,i){"use strict";i.r(e);i("Hglc");function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){o(t,e,i[e])})}return t}({},{highlights:[],container:document,keywordBackgroundColor:"#ffff00",keywordTextColor:"#000000",actionBackgroundColor:"#eff7ff",actionTextColor:"#0366d6"},e),this.highlightMap={},this.keywordDetails=null,this.parseHighlights()}var e,i,l;return e=t,(i=[{key:"parseHighlights",value:function(){var t=this,e=function(e,i){e.text in t.highlightMap?-1===t.highlightMap[e.text].indexOf(i)&&t.highlightMap[e.text].push(i):(t.highlightMap[e.text]=[i],t.highlight(e))};this.config.highlights.forEach(function(i,o){(i.keywords||"").split(",").forEach(function(t){e({text:t,type:"keyword"},o)}),(i.actions||"").split(",").forEach(function(i){e({text:i,type:"action",backgroundColor:t.config.actionBackgroundColor,textColor:t.config.actionTextColor},o)})})}},{key:"highlight",value:function(t){var e=t.text,i=void 0===e?"":e,o=t.backgroundColor,n=void 0===o?this.config.keywordBackgroundColor:o,l=t.textColor,a=void 0===l?this.config.keywordTextColor:l,h=t.type;if(0!==i.length){var r,g=new RegExp("(^|\\W)"+i.replace(/[\\^$*+.?[\]{}()|]/,"\\$&")+"($|\\W)","im"),s=[];this.config.container.normalize();for(var c=this.config.container.firstChild;null!=c;){if(c.nodeType==Node.TEXT_NODE){r="string"==typeof c.textContent?c.textContent:c.innerText;var u=g.exec(r);if(null!=u){var d=document.createDocumentFragment();u.index>0&&d.appendChild(document.createTextNode(u.input.substr(0,u.index)));var p=this.highlightStyle({style:["position:relative;"],backgroundColor:n,textColor:a}),f=document.createElement("span");f.setAttribute("style",p),h&&(f.dataset.type=h),f.appendChild(document.createTextNode(u[0])),d.appendChild(f),f.addEventListener("mouseover",this.showDetails.bind(this)),f.addEventListener("mouseout",this.hideDetails.bind(this)),u.index+u[0].length<u.input.length&&d.appendChild(document.createTextNode(u.input.substr(u.index+u[0].length))),c.parentNode.replaceChild(d,c),c=f}}else if(c.nodeType==Node.ELEMENT_NODE&&null!=c.firstChild){s.push(c),c=c.firstChild;continue}for(;null!=c&&null==c.nextSibling;)c=s.pop();null!=c&&(c=c.nextSibling)}}}},{key:"highlightStyle",value:function(t){var e=t.style,i=void 0===e?[]:e,o=t.backgroundColor,n=void 0===o?this.config.keywordBackgroundColor:o,l=t.textColor,a=void 0===l?this.config.keywordTextColor:l;return n&&n.length>0&&i.push("background-color: "+n+";"),a&&a.length>0&&i.push("color: "+a+";"),i.join("")}},{key:"showDetails",value:function(t){var e=t.target.innerHTML.replace(/[\\^$*+.?[\]{}()<>|'";:]/g,"").replace(/[&,]/g," ").trim().toLowerCase();if(e in this.highlightMap){this.hideDetails();var i=document.createElement("div");i.setAttribute("class","policyHighlight__popup"),i.innerHTML=this.getDetailsHTML(e,t.target.dataset.type),t.target.appendChild(i),this.keywordDetails=i}}},{key:"hideDetails",value:function(){this.keywordDetails&&this.keywordDetails.parentNode.removeChild(this.keywordDetails),this.keywordDetails=null}},{key:"getDetailsHTML",value:function(t,e){var i=this,o=t;if(e){var n="";n="keyword"===e?this.highlightStyle({}):this.highlightStyle({backgroundColor:this.config.actionBackgroundColor,textColor:this.config.actionTextColor}),o+=": "+this.getHTMLTag({value:e,style:n,tag:"span",className:"policyHighlight__tag"})}var l=this.getHTMLTag({value:o,className:"policyHighlight__text"});if(e){var a=["An important",e,"in the below"];this.highlightMap[t].length>1?a.push(this.highlightMap[t].length+" highlights."):a.push("highlight."),l+=this.getHTMLTag({value:a.join(" "),className:"policyHighlight__type"})}var h=this.highlightMap[t].map(function(t){return i.getHighlightHTML(i.config.highlights[t])});return l+=this.getHTMLTag({value:h.join(""),className:"policyHighlight__highlights"}),this.getHTMLTag({value:l,className:"policyHighlight__details"})}},{key:"getHighlightHTML",value:function(t){var e=this.getHTMLTag({value:t.name,className:"policyHighlight__name"})+this.getHTMLTag({value:t.description,className:"policyHighlight__description"});return this.getHTMLTag({value:e,className:"policyHighlight__highlight"})}},{key:"getHTMLTag",value:function(t){var e=t.value,i=void 0===e?"":e,o=t.className,n=void 0===o?"":o,l=t.style,a=void 0===l?"":l,h=t.tag,r=void 0===h?"div":h;return i&&i.length>0&&"<"+r+' class="'+n+'" style="'+a+'">'+i+"</"+r+">"}}])&&n(e.prototype,i),l&&n(e,l),t}();e.default=l}}]);